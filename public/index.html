<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- This is an SEO Change -->
    <title>Free Personal Budget Management App - Track Expenses</title>
    <!-- This is an SEO Change -->
    <meta name="description" content="Manage your personal budget effectively with this free budget management app. Track expenses, receive alerts, and stay on top of your finances.">
    <!-- This is an SEO Change -->
    <meta name="keywords" content="personal budget, budget app, free budget app, finance management, expense tracking, budget alerts">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="main.css">
</head>

<body>

    <!-- This is an A11y Change -->
    <a href="#main" class="skip">Skip to content</a>

    <nav>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about.html">About</a></li>
            <li><a href="/login.html">Login</a></li>
            <!-- This is an SEO Change -->
            <li><a href="https://google.com" target="_blank" rel="noopener noreferrer">Google</a></li>
        </ul>
    </nav>

    <header> <!-- This is a Semantic HTML Change -->
        <div class="hero">
            <!-- This is an SEO Change -->
            <h1>Free Personal Budget Management App</h1>
            <h2>A personal-budget management app</h2>
        </div>
    </header>

    <main id="main"> <!-- This is a Semantic HTML Change -->
        <section class="center page-area"> <!-- This is a Semantic HTML Change -->

            <article>
                <!-- This is an SEO Change -->
                <h1 id="stay-on-track-heading">Track Your Expenses</h1>
                <p>
                    Do you know where you are spending your money? If you really stop to track it down,
                    you would get surprised! Proper budget management depends on real data... and this
                    app will help you with that!
                </p>
            </article>
    
            <article>
                <!-- This is an A11y Change -->
                <h1 id="alerts-heading">Receive Budget Alerts</h1>
                <p>
                    What if your clothing budget ended? You will get an alert. The goal is to never go over the budget.
                </p>
            </article>
    
            <article>
                <!-- This is an SEO Change -->
                <h1 id="results-heading">Financial Results</h1>
                <p>
                    People who stick to a financial plan, budgeting every expense, get out of debt faster!
                    Also, they to live happier lives... since they expend without guilt or fear... 
                    because they know it is all good and accounted for.
                </p>
            </article>
    
            <article>
                <!-- This is an SEO Change -->
                <h1 id="free-app-heading">Free Budget App</h1>
                <p>
                    This app is free!!! And you are the only one holding your data!
                </p>
            </article>
    
            <article>
                <!-- This is an A11y Change -->
                <h1 id="stay-on-track-heading-2">Expense Tracking</h1>
                <p>
                    Do you know where you are spending your money? If you really stop to track it down,
                    you would get surprised! Proper budget management depends on real data... and this
                    app will help you with that!
                </p>
            </article>
    
            <article>
                <!-- This is an SEO Change -->
                <h1 id="alerts-heading-2">Budget Alerts</h1>
                <p>
                    What if your clothing budget ended? You will get an alert. The goal is to never go over the budget.
                </p>
            </article>
    
            <article>
                <!-- This is an SEO Change -->
                <h1 id="results-heading-2">Financial Planning</h1>
                <p>
                    People who stick to a financial plan, budgeting every expense, get out of debt faster!
                    Also, they to live happier lives... since they expend without guilt or fear... 
                    because they know it is all good and accounted for.
                </p>
            </article>
    
            <article>
                <!-- This is a Semantic HTML Change -->
                <h2 id="chart-heading">Budget Visualization</h2>
                <p>
                    <canvas id="myChart" width="400" height="400"></canvas>
                </p>
            </article>

        </section>

    </main>

    <footer class="bottom">
        <div class="center">
            All rights reserved &copy; Fabio Nolasco
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.min.js" integrity="sha512-quHCp3WbBNkwLfYUMd+KwBAgpVukJu5MncuQaWXgCrfgcxCJAq/fo+oqrRKOj+UKEmyMCG3tb8RB63W+EmrOBg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous"></script>

    <script>
        var dataSource = {
                datasets: [
                    {
                        data: [],
                        backgroundColor: [
                            '#ffcd56',
                            '#ff6384',
                            '#36a2eb',
                            '#fd6b19',
                        ]
                    }
                ],
                labels: []
            };

        function createChart() {
            var ctx = document.getElementById('myChart').getContext('2d');
            var myPieChart = new Chart(ctx, {
                type: 'pie',
                data: dataSource
            });
        }

        function getBudget() {
            axios.get('http://localhost:3000/budget')
            .then(function (res) {
                for (var i = 0; res.data.myBudget && i < res.data.myBudget.length; i++) {
                    dataSource.datasets[0].data[i] = res.data.myBudget[i].budget;
                    dataSource.labels[i] = res.data.myBudget[i].title;
                    createChart();
                }
            });
        }

        getBudget();
    </script>

</body>
</html>
